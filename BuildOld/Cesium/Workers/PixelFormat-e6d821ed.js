/**
 * Cesium - https://github.com/CesiumGS/cesium
 *
 * Copyright 2011-2020 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/master/LICENSE.md for full licensing details.
 */
define(["exports","./when-8d13db60","./WebGLConstants-4c11ee5f"],function(_,t,e){function n(_,t,e,n){this._format=_,this._width=t,this._height=e,this._buffer=n}Object.defineProperties(n.prototype,{internalFormat:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}}}),n.clone=function(_){if(t.defined(_))return new n(_._format,_._width,_._height,_._buffer)},n.prototype.clone=function(){return n.clone(this)};var r={UNSIGNED_BYTE:e.WebGLConstants.UNSIGNED_BYTE,UNSIGNED_SHORT:e.WebGLConstants.UNSIGNED_SHORT,UNSIGNED_INT:e.WebGLConstants.UNSIGNED_INT,FLOAT:e.WebGLConstants.FLOAT,HALF_FLOAT:e.WebGLConstants.HALF_FLOAT_OES,UNSIGNED_INT_24_8:e.WebGLConstants.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:e.WebGLConstants.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:e.WebGLConstants.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:e.WebGLConstants.UNSIGNED_SHORT_5_6_5,isPacked:function(_){return _===r.UNSIGNED_INT_24_8||_===r.UNSIGNED_SHORT_4_4_4_4||_===r.UNSIGNED_SHORT_5_5_5_1||_===r.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(_){switch(_){case r.UNSIGNED_BYTE:return 1;case r.UNSIGNED_SHORT:case r.UNSIGNED_SHORT_4_4_4_4:case r.UNSIGNED_SHORT_5_5_5_1:case r.UNSIGNED_SHORT_5_6_5:case r.HALF_FLOAT:return 2;case r.UNSIGNED_INT:case r.FLOAT:case r.UNSIGNED_INT_24_8:return 4}},validate:function(_){return _===r.UNSIGNED_BYTE||_===r.UNSIGNED_SHORT||_===r.UNSIGNED_INT||_===r.FLOAT||_===r.HALF_FLOAT||_===r.UNSIGNED_INT_24_8||_===r.UNSIGNED_SHORT_4_4_4_4||_===r.UNSIGNED_SHORT_5_5_5_1||_===r.UNSIGNED_SHORT_5_6_5}},B={DEPTH_COMPONENT:e.WebGLConstants.DEPTH_COMPONENT,DEPTH_STENCIL:e.WebGLConstants.DEPTH_STENCIL,ALPHA:e.WebGLConstants.ALPHA,RGB:e.WebGLConstants.RGB,RGBA:e.WebGLConstants.RGBA,LUMINANCE:e.WebGLConstants.LUMINANCE,LUMINANCE_ALPHA:e.WebGLConstants.LUMINANCE_ALPHA,RGB_DXT1:e.WebGLConstants.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:e.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:e.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:e.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:e.WebGLConstants.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:e.WebGLConstants.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:e.WebGLConstants.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:e.WebGLConstants.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGB_ETC1:e.WebGLConstants.COMPRESSED_RGB_ETC1_WEBGL,componentsLength:function(_){switch(_){case B.RGB:return 3;case B.RGBA:return 4;case B.LUMINANCE_ALPHA:return 2;case B.ALPHA:case B.LUMINANCE:default:return 1}},validate:function(_){return _===B.DEPTH_COMPONENT||_===B.DEPTH_STENCIL||_===B.ALPHA||_===B.RGB||_===B.RGBA||_===B.LUMINANCE||_===B.LUMINANCE_ALPHA||_===B.RGB_DXT1||_===B.RGBA_DXT1||_===B.RGBA_DXT3||_===B.RGBA_DXT5||_===B.RGB_PVRTC_4BPPV1||_===B.RGB_PVRTC_2BPPV1||_===B.RGBA_PVRTC_4BPPV1||_===B.RGBA_PVRTC_2BPPV1||_===B.RGB_ETC1},isColorFormat:function(_){return _===B.ALPHA||_===B.RGB||_===B.RGBA||_===B.LUMINANCE||_===B.LUMINANCE_ALPHA},isDepthFormat:function(_){return _===B.DEPTH_COMPONENT||_===B.DEPTH_STENCIL},isCompressedFormat:function(_){return _===B.RGB_DXT1||_===B.RGBA_DXT1||_===B.RGBA_DXT3||_===B.RGBA_DXT5||_===B.RGB_PVRTC_4BPPV1||_===B.RGB_PVRTC_2BPPV1||_===B.RGBA_PVRTC_4BPPV1||_===B.RGBA_PVRTC_2BPPV1||_===B.RGB_ETC1},isDXTFormat:function(_){return _===B.RGB_DXT1||_===B.RGBA_DXT1||_===B.RGBA_DXT3||_===B.RGBA_DXT5},isPVRTCFormat:function(_){return _===B.RGB_PVRTC_4BPPV1||_===B.RGB_PVRTC_2BPPV1||_===B.RGBA_PVRTC_4BPPV1||_===B.RGBA_PVRTC_2BPPV1},isETC1Format:function(_){return _===B.RGB_ETC1},compressedTextureSizeInBytes:function(_,t,e){switch(_){case B.RGB_DXT1:case B.RGBA_DXT1:case B.RGB_ETC1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case B.RGBA_DXT3:case B.RGBA_DXT5:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case B.RGB_PVRTC_4BPPV1:case B.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(e,8)*4+7)/8);case B.RGB_PVRTC_2BPPV1:case B.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(e,8)*2+7)/8);default:return 0}},textureSizeInBytes:function(_,t,e,n){var T=B.componentsLength(_);return r.isPacked(t)&&(T=1),T*r.sizeInBytes(t)*e*n},alignmentInBytes:function(_,t,e){var n=B.textureSizeInBytes(_,t,e,1)%4;return 0===n?4:2===n?2:1},createTypedArray:function(_,t,e,n){var T=r.sizeInBytes(t);return new(T===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:T===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:T===Float32Array.BYTES_PER_ELEMENT&&t===r.FLOAT?Float32Array:Uint32Array)(B.componentsLength(_)*e*n)},flipY:function(_,t,e,n,T){if(1===T)return _;for(var r=B.createTypedArray(t,e,n,T),G=B.componentsLength(t),R=n*G,s=0;s<T;++s)for(var P=s*T*G,E=(T-s-1)*T*G,N=0;N<R;++N)r[E+N]=_[P+N];return r}},T=Object.freeze(B);_.CompressedTextureBuffer=n,_.PixelFormat=T});