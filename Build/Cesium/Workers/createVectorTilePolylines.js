define(["./AttributeCompression-49f7b62a","./Cartographic-67e73ef9","./Rectangle-bab7abf0","./IndexDatatype-4c0e98b8","./Math-92c3b5f7","./createTaskProcessorWorker","./Cartesian2-6033fa5d","./Check-52a7d806","./when-92c6cf3c","./WebGLConstants-71f10989"],(function(t,a,r,e,n,c,f,u,s,i){"use strict";var o=32767,p=new a.t$1,b=new a.t;var d=new r.h,w=new r.t,h=new a.t,y={min:void 0,max:void 0};var k=new a.t,v=new a.t,l=new a.t,A=new a.t,g=new a.t;return c((function(c,f){var u=new Uint16Array(c.positions),s=new Uint16Array(c.widths),i=new Uint32Array(c.counts),x=new Uint16Array(c.batchIds);!function(t){t=new Float64Array(t);var e=0;y.min=t[e++],y.max=t[e++],r.h.unpack(t,e,d),e+=r.h.packedLength,r.t.unpack(t,e,w),e+=r.t.packedLength,a.t.unpack(t,e,h)}(c.packedBuffer);var D,I=w,m=h,E=function(r,e,c,f,u){var s=r.length/3,i=r.subarray(0,s),d=r.subarray(s,2*s),w=r.subarray(2*s,3*s);t.t.zigZagDeltaDecode(i,d,w);for(var h=new Float32Array(r.length),y=0;y<s;++y){var k=i[y],v=d[y],l=w[y],A=n.e.lerp(e.west,e.east,k/o),g=n.e.lerp(e.south,e.north,v/o),x=n.e.lerp(c,f,l/o),D=a.t$1.fromRadians(A,g,x,p),I=u.cartographicToCartesian(D,b);a.t.pack(I,h,3*y)}return h}(u,d,y.min,y.max,I),T=E.length/3,U=4*T-4,C=new Float32Array(3*U),F=new Float32Array(3*U),N=new Float32Array(3*U),P=new Float32Array(2*U),L=new Uint16Array(U),R=0,S=0,_=0,G=0,W=i.length;for(D=0;D<W;++D){for(var B=i[D],M=s[D],$=x[D],z=0;z<B;++z){var H;if(0===z){var O=a.t.unpack(E,3*G,k),Y=a.t.unpack(E,3*(G+1),v);H=a.t.subtract(O,Y,l),a.t.add(O,H,H)}else H=a.t.unpack(E,3*(G+z-1),l);var Z,j=a.t.unpack(E,3*(G+z),A);if(z===B-1){var q=a.t.unpack(E,3*(G+B-1),k),J=a.t.unpack(E,3*(G+B-2),v);Z=a.t.subtract(q,J,g),a.t.add(q,Z,Z)}else Z=a.t.unpack(E,3*(G+z+1),g);a.t.subtract(H,m,H),a.t.subtract(j,m,j),a.t.subtract(Z,m,Z);for(var K=z===B-1?2:4,Q=0===z?2:0;Q<K;++Q){a.t.pack(j,C,R),a.t.pack(H,F,R),a.t.pack(Z,N,R),R+=3;var V=Q-2<0?-1:1;P[S++]=Q%2*2-1,P[S++]=V*M,L[_++]=$}}G+=B}var X=e.IndexDatatype.createTypedArray(U,6*T-6),tt=0,at=0;for(W=T-1,D=0;D<W;++D)X[at++]=tt,X[at++]=tt+2,X[at++]=tt+1,X[at++]=tt+1,X[at++]=tt+2,X[at++]=tt+3,tt+=4;return f.push(C.buffer,F.buffer,N.buffer),f.push(P.buffer,L.buffer,X.buffer),{indexDatatype:2===X.BYTES_PER_ELEMENT?e.IndexDatatype.UNSIGNED_SHORT:e.IndexDatatype.UNSIGNED_INT,currentPositions:C.buffer,previousPositions:F.buffer,nextPositions:N.buffer,expandAndWidth:P.buffer,batchIds:L.buffer,indices:X.buffer}}))}));
